!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){e.exports={isCoorFormat:e=>/^([1-9]|10)[A-J]$/i.test(e),turnToCoorString:function(e,t){if(t>0&&t<11)return e+String.fromCharCode(64+t)}}},function(e,t){e.exports=class{constructor(e){const t=[];this.length=e,this.hitsIndex=()=>t,this.hit=n=>{n>0&&n<=e&&-1===t.indexOf(n)&&(t.push(n),t.sort())},this.isSunk=()=>t.length===e}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(2);var r=n(0);const a=()=>{const e=Math.ceil(10*Math.random()),t=Math.ceil(10*Math.random());return Object(r.turnToCoorString)(e,t)};var o=()=>{const e=[{name:"P1"},{name:"P2"}];let[t]=e;return Object.create({changeTurn(){t.name===e[0].name?[,t]=e:[t]=e},isPlayerOnePlaying:()=>t.name===e[0].name,computerPlay(e){let t;for(;t=a(),e.some(e=>e===t)&&100!==e.length;);return t},getCurrentPlayerName:()=>t.name})},s=n(1),c=n.n(s);var i=e=>{const t=[],n=[],a=[];return e.forEach(e=>t.push(new c.a(e.length))),Object.create({receiveAttack(o){"string"==typeof o&&Object(r.isCoorFormat)(o)&&(o=o.toUpperCase(),this.isHit(o)?e.forEach((e,n)=>{const r=e.indexOf(o);-1!==r&&(t[n].hit(r+1),a.push(o))}):n.push(o))},status:()=>({miss:n,hit:a}),isDefeated:()=>t.every(e=>e.isSunk()),isHit:t=>e.some(e=>e.some(e=>e===t))})};const u={};let l=-1;var d=()=>Object.create({publish(e,t){if(!u[e])return!1;const n=u[e];let r=n?n.length:0;for(;r--;)n[r].func(t);return this},subscribe(e,t){u[e]||(u[e]=[]);const n=(++l).toString();return u[e].push({token:n,func:t}),n},unsubscribe(e){for(const t in u)if(u[t])for(let n=0,r=u[t].length;n<r;n++)if(u[t][n].token===e)return u[t].splice(n,1),e;return this}});const p=i([["2I"],["4C"],["2B","2C"],,]),f=i([["2I"],["4C"],["2B","2C"],,]),m=o(),h=()=>m.isPlayerOnePlaying()?f:p;let b=!1;const y=(()=>Object.assign(Object.create({players:m,manageAttack(e){h().receiveAttack(e)},getEnemyStats:()=>h().status(),isAttackSuccess:e=>h().isHit(e),checkIfWin:()=>h().isDefeated()}),{events:d()}))();((e,t)=>{const n=()=>{const e=document.createElement("table"),t=document.createElement("tbody"),n=document.createElement("tr");t.appendChild(n),n.appendChild(document.createElement("td"));for(let e=0;e<10;e++){const r=document.createElement("tr"),a=document.createElement("td"),o=document.createElement("td");a.classList="index",o.classList="index",o.textContent=String.fromCharCode(65+e),a.textContent=e+1,r.appendChild(o),n.appendChild(a);for(let t=1;t<=10;t++){const n=document.createElement("td");n.classList="box",n.dataset.coordinate=`${t}${String.fromCharCode(65+e)}`,r.appendChild(n)}t.appendChild(r)}return e.appendChild(t),e},r=document.getElementById("player-one"),a=document.getElementById("player-two");function o(e){return t=>{for(const n in t)t.hasOwnProperty(n)&&t[n].forEach(t=>{e.querySelector(`[data-coordinate="${t}"]`).classList.add(n)})}}r.appendChild(n()),a.appendChild(n());t.subscribe("player-one-board-update",o(r)),t.subscribe("player-two-board-update",o(a)),t.subscribe("winner-decided",e=>{setTimeout(()=>{alert(`${e} wins`)},0)}),t.subscribe("change-turn",e=>{setTimeout(()=>{alert(`${e}'s turn.`)},0)}),document.addEventListener("click",e)})((e=>{return{handleEvent:t=>{if(!b&&t.target.classList.value.includes("box")&&!t.target.classList.value.includes("marked")){const n=e.players.isPlayerOnePlaying()?"player-two":"player-one";if(document.getElementById(n).contains(t.target)){const r=t.target.dataset.coordinate;e.manageAttack(r),e.events.publish(`${n}-board-update`,e.getEnemyStats()),e.checkIfWin()?(e.events.publish("winner-decided",e.players.getCurrentPlayerName()),b=!0):e.isAttackSuccess(r)||(e.players.changeTurn(),e.events.publish("change-turn",e.players.getCurrentPlayerName()))}}}}})(y),y.events)}]);